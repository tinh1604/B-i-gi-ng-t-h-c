define(["comp/graphicComp","utils/objectUtils","infra/logger","utils/graphicUtils","utils/domUtils"],function(t,e,o,r,i){function n(e){t.call(this,e),this.setDimension=function(){return!1}}n.prototype=new t;var l={hover:"hover",clicked:"active"};n.prototype.internalDraw=function(){t.prototype.internalDraw.call(this),this.lineHeightFFfix=this.div.style.height,i.applyStyle(this.div,{overflow:"visible","box-sizing":"border-box","text-align":"center","line-height":this.lineHeightFFfix});var e=a.call(this);i.insertElementIntoContainer(this.div,e)};var a=function(){var t={};"fontFamily"in this.prop&&(t["font-family"]=this.prop.fontFamily),"fontSize"in this.prop&&(t["font-size"]=this.prop.fontSize+"px"),t.width="100%",t.height="100%",t["box-sizing"]="border-box",t.overflow="hidden",t.cursor="pointer";var e={styleProperties:t};return"text"in this.prop&&(e.textContent=this.prop.text),d.call(this),r.buildDiv(e)},d=function(){var t=this,e=function(e,o){var n=s.call(t,e),l=r.buildStyle({elementIdentifier:"#"+t.div.id+" div",selector:o,elementProperties:n});i.insertElementToHead(l)};this.prop.stateStyle.forEach(function(t){if("type"in t){var o=t.type.toLowerCase();e(t,l[o])}})},s=function(t){var e={};!function(){e.color=t.textStyle.color||"transparent",e["font-weight"]=t.textStyle.bold?"bold":"normal",e["font-style"]=t.textStyle.italic?"italic":"normal",e["text-decoration"]=t.textStyle.underline?"underline":"none"}(),function(){if(e.border=t.borderStyle.color+" "+t.borderStyle.width+"px solid !important",t.borderStyle.radius){var o;i.isStylePropertySupported("borderRadius")?o="border-radius":i.isStylePropertySupported("webkitBorderRadius")?o="-webkit-border-radius":i.isStylePropertySupported("mozBorderRadius")&&(o="-moz-border-radius"),o&&(e[o]=t.borderStyle.radius+"px")}}(),function(){var o=t.backgroundStyle;if(o.type)if("solidcolor"===o.type.toLowerCase()||"solid"===o.type.toLowerCase())o.color&&(e.background=o.color);else if("gradientcolor"===o.type.toLowerCase()||"gradient"===o.type.toLowerCase()){if(o.startColor&&o.endColor&&(null!=o.percent||null!=o.startPercent&&null!=o.endPercent)){var i={startColor:o.startColor,endColor:o.endColor,direction:o.gradientDirection?o.gradientDirection:"up"},n=0,l=0;if(null!=o.startPercent)n=o.startPercent,l=o.endPercent;else{o.percent=Math.min(200,o.percent),o.percent=Math.max(0,o.percent);var a=200-o.percent;n=100>=a?0:a-100,l=100>=a?a:100}i.startPercent=n,i.endPercent=l,e.background=r.getBGGradient(i)}}else("buttonimg"===o.type.toLowerCase()||"image"===o.type.toLowerCase())&&(e["background-color"]="transparent",e["background-image"]='url("'+o.image+'")',e["background-position"]="0 0",e["background-repeat"]="no-repeat",e["background-size"]="100% 100%")}(),function(){var o=t.shadow.offsetX+"px",r=-1*t.shadow.offsetY+"px",n=t.shadow.color?t.shadow.color:"",l=t.shadow.blur+"px",a=o+" "+r+" "+l+" "+n;i.isStylePropertySupported("boxShadow")?e["box-shadow"]=a:i.isStylePropertySupported("webkitBoxShadow")?e["-webkit-box-shadow"]=a:i.isStylePropertySupported("mozBoxShadow")&&(e["-moz-box-shadow"]=a)}();var o=parseInt(this.lineHeightFFfix)-2*t.borderStyle.width;return e["line-height"]=o+"px",e};return n.prototype.getDefaultProperty=function(){return n.defaultProperty},n.prototype.getInputSchema=function(){return n.inputSchema},n.inputSchema=e.create(t.inputSchema,{text:null,fontFamily:null,fontSize:"int",stateStyle:{type:null,textStyle:{color:null,bold:"bool",italic:"bool",underline:"bool"},borderStyle:{color:null,width:"int",radius:"int"},backgroundStyle:{type:null,color:null,startColor:null,startPercent:"int",endColor:null,endPercent:"int",gradientDirection:null,image:"asset"},shadow:{offsetX:"int",offsetY:"int",color:null,blur:"int"}}}),n.defaultProperty="text",o.log("FactoryButton component loaded"),n});